[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tom Harris. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Harris T (2023). THfuncs: Functions data analysis manipulation Thomas Harris. R package version 0.1.0.","code":"@Manual{,   title = {THfuncs: Functions for data analysis and manipulation by Thomas Harris},   author = {Tom Harris},   year = {2023},   note = {R package version 0.1.0}, }"},{"path":"/index.html","id":"thfuncs","dir":"","previous_headings":"","what":"Functions for data analysis and manipulation by Thomas Harris","title":"Functions for data analysis and manipulation by Thomas Harris","text":"THfuncs R package contains functions created help data analysis, data manipulation functionality R. first (currently function) contained package prop_in_group(). function transforms tidy data grouped proportion table, using columns data. can generalised summarise wide data frames, shown examples .","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Functions for data analysis and manipulation by Thomas Harris","text":"can install development version THfuncs like :","code":"# install.packages(\"devtools\") library(devtools) devtools::install_github(\"tomambroseharris/THfuncs\", force = TRUE) library(THfuncs)"},{"path":"/index.html","id":"prop_in_group","dir":"","previous_headings":"","what":"prop_in_group","title":"Functions for data analysis and manipulation by Thomas Harris","text":"See function running: ?prop_in_group() inputs shown Usage. defaults, mean arguments necessary specify input_df breakdowns_vector. function takes data frame summarises values within whole data frame split various groups. function’s flexibility enables take many forms, also allows users account things including: NA (unknown) values; whether data counted instances whether already attributed numeric values; multiple groups subgroups; stacking groups. function produces data frame 5 core columns: Grouping - overarching data group: column name original df Subgroup - labels within overarching group: unique inputs grouping col original df Proportion - proportion overall value made subgroup Known Group - many non-NA values included calculation Unknowns - many NA values excluded calculation number columns vary multiple subgroups incorporated users choose deselect knowns columns. included default aid understanding function.","code":""},{"path":"/index.html","id":"example-use","dir":"","previous_headings":"","what":"Example use","title":"Functions for data analysis and manipulation by Thomas Harris","text":"use dummy data universities, shown .","code":""},{"path":"/index.html","id":"example-1---basic","dir":"","previous_headings":"","what":"Example 1. - Basic","title":"Functions for data analysis and manipulation by Thomas Harris","text":"Showing proportion observations (rows) breakdown. Notes: rows data points known included calculation, ensures proportion sums 1 within grouping. 9 observations, Known Group Unknowns columns sum 9, depending whether subgroup value contains data NA","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"Country\", \"Ofs_Tariff_1920\", \"TEF_1819\"))"},{"path":"/index.html","id":"example-2a---proportion-of-student-numbers","dir":"","previous_headings":"","what":"Example 2a. - Proportion of student numbers","title":"Functions for data analysis and manipulation by Thomas Harris","text":"Showing proportion observations (rows) breakdown. SUM much total known.","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"Country\", \"Ofs_Tariff_1920\", \"TEF_1819\"),               value_col = `Student numbers`,               knowns_treatment = \"sum\")"},{"path":"/index.html","id":"example-2b---proportion-of-student-numbers","dir":"","previous_headings":"","what":"Example 2b. - Proportion of student numbers","title":"Functions for data analysis and manipulation by Thomas Harris","text":"Showing proportion observations (rows) breakdown. COUNT many rows known values. (default, shown example 1). Notes proportion student numbers still 2a, calculation still . changed presentation many rows contain known values","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"Country\", \"Ofs_Tariff_1920\", \"TEF_1819\"),               value_col = `Student numbers`,               knowns_treatment = \"count\")"},{"path":"/index.html","id":"example-2c---rounded-knowns","dir":"","previous_headings":"","what":"Example 2c. - Rounded knowns","title":"Functions for data analysis and manipulation by Thomas Harris","text":"Now change input parameter round_knowns_to_nearest 1 (default) 5. can help produce tables comply rounding rules presentation intentions.","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"Country\", \"Ofs_Tariff_1920\", \"TEF_1819\"),               value_col = `Student numbers`               round_knowns_to_nearest = 5)"},{"path":"/index.html","id":"example-3---dual-breakdowns","dir":"","previous_headings":"","what":"Example 3. - Dual breakdowns","title":"Functions for data analysis and manipulation by Thomas Harris","text":"Now derive proportion group split unique variables Country column. Grouping Notes corresponding data original data frame (e.g., Welsh universities df TEF_1819 = Gold), NA returned Known Group column refers subgroup data (TEF_1819) rather country data, .e. universities TEF rating countries didn’t universities matched TEF rating subgroup row.l","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"TEF_1819\"),               value_col = `Student numbers`,               group_by_col = Country)"},{"path":"/index.html","id":"example-4-rounding-the-proportion","dir":"","previous_headings":"","what":"Example 4: rounding the proportion","title":"Functions for data analysis and manipulation by Thomas Harris","text":"prop_dps argument allows change accuracy proportions","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"TEF_1819\"),               value_col = `Student numbers`,               prop_dps = 4)"},{"path":"/index.html","id":"example-5---minimalist-table-without-knowns-and-within-pipe","dir":"","previous_headings":"","what":"Example 5. - Minimalist table without knowns and within pipe","title":"Functions for data analysis and manipulation by Thomas Harris","text":"table summarises proportion universities tariff group. Instead ignoring NA values, can reassign values included proportion calculation. case, might well remove Known Group Unknowns columns (Known = 9 Unknowns = 0 instance). table also shows function can nested within pipe: assumes input data frame manipulated.","code":"output_df <- universities %>%   mutate(Ofs_Tariff_1920 = if_else(is.na(Ofs_Tariff_1920), \"UNKNOWN TARIFF\", Ofs_Tariff_1920)) %>%   prop_in_group(breakdowns_vector = c(\"Ofs_Tariff_1920\"),                 show_knowns_cols = \"no\")"},{"path":"/index.html","id":"example-6-summed-values-not-proportions","dir":"","previous_headings":"","what":"Example 6: Summed values not proportions","title":"Functions for data analysis and manipulation by Thomas Harris","text":"function can changed sum value column (count instances value_col parsed). option creates entirely different df rather adding existing df issues one grouping column included. get alongside, ’d run function twice join .","code":"prop_in_group(input_df = universities,               breakdowns_vector = c(\"TEF_1819\"),               value_col = `Student numbers`,               value_or_prop = \"value\")"},{"path":"/index.html","id":"example-7-transforming-knowns-and-nas","dir":"","previous_headings":"","what":"Example 7: transforming knowns and NAs","title":"Functions for data analysis and manipulation by Thomas Harris","text":"example get unknown values NA form. easy way dplyr::na_if(). example syntax applied .","code":"output_df <- universities %>%    mutate(TEF_1819 = dplyr::na_if(TEF_1819, \"No TEF\")) %>% prop_in_group(breakdowns_vector = c(\"TEF_1819\"),               value_col = `Student numbers`,               value_or_prop = \"value\")"},{"path":"/reference/prop_in_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise the proportions of a df (population) which fall in each of n categories — prop_in_group","title":"Summarise the proportions of a df (population) which fall in each of n categories — prop_in_group","text":"produce summary table showing proportion numeric column within groups subgroups, assigned values corresponding row columns","code":""},{"path":"/reference/prop_in_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise the proportions of a df (population) which fall in each of n categories — prop_in_group","text":"","code":"prop_in_group(   input_df,   breakdowns_vector,   value_col = NULL,   group_by_col = NULL,   value_or_prop = \"prop\",   prop_dps = 2,   show_knowns_cols = \"yes\",   knowns_treatment = \"count\",   round_knowns_to_nearest = 1 )"},{"path":"/reference/prop_in_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise the proportions of a df (population) which fall in each of n categories — prop_in_group","text":"input_df input data frame breakdowns_vector vector containing column names group see proportion value_col population values summed. purpose count rows, leave blank blank. group_by_col additional layer grouping, required, see broader subset value_or_prop default = \"prop\". Inputting \"value\" can generate df values instead proportions prop_dps many decimal places make proportion. default 2, representing percentage decimals show_knowns_cols whether show cols count sum NA values df. Default = \"yes\" knowns_treatment inlcude \"sum\" \"count\" specify calculate unknowns/known instances column round_knowns_to_nearest number round knowns/unknowns e.g. 1,5,10","code":""},{"path":"/reference/prop_in_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise the proportions of a df (population) which fall in each of n categories — prop_in_group","text":"output function - data frame 5+ columns: grouping (containing element breakdowns vector); subgroup (containing unique value within grouping); column per group_by_col unique value, none, just prop_in_total_group; many rows known values; many unknowns ","code":""},{"path":[]}]
